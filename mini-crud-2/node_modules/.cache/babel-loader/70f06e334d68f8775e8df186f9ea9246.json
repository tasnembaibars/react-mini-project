{"ast":null,"code":"import axios from \"axios\";\nimport swal from \"sweetalert\";\nexport const fetchData = () => {\n  return async (dispatch, getstate) => {\n    const response = await axios.get(\"https://62de95669c47ff309e7729bf.mockapi.io/users\");\n    console.log(response.data);\n    dispatch({\n      type: \"FETCH_DATA\",\n      payload: response.data\n    });\n  };\n};\nexport const addUser = (name, email, address) => {\n  return dispatch => {\n    axios.post('https://62de95669c47ff309e7729bf.mockapi.io/users', {\n      name,\n      email,\n      address\n    }).then(response => {\n      console.log(response.data);\n      dispatch({\n        type: 'ADD_USER',\n        payload: response.data\n      }).catch(error => {\n        console.log(error);\n      });\n    });\n  };\n}; // export const updateUser=(data)=>{\n//     return(dispatch)=>{\n//         axios.put(`https://62de95669c47ff309e7729bf.mockapi.io/users/${id}`,{data})\n//         .then(response=>{\n//             console.log(response.data);\n//             dispatch({\n//                 type:'UPDATE_USER',\n//                 payload:response.user\n//             })\n//             .catch(error=>{\n//                 console.log(error)\n//             });\n//         })\n//     }\n// }\n\nexport const updateUser = async (data, id) => {\n  const response = await axios.put(`https://62de95669c47ff309e7729bf.mockapi.io/users/${id}`, data); // window.location.href = \"http://localhost:3001\";\n\n  swal({\n    title: \"Good job!\",\n    text: \"User updated successfully!\",\n    icon: \"success\",\n    button: \"ok!\"\n  }).then(function () {\n    window.location.href = \"/\";\n  });\n  return dispatch => {\n    dispatch({\n      type: 'UPDATE_USER',\n      payload: response.user\n    });\n  };\n};\nexport const deleteUser = async id => {\n  const response = await axios.delete(`https://62de95669c47ff309e7729bf.mockapi.io/users/${id}`); // window.location.href = \"http://localhost:3001\";\n\n  swal({\n    title: \"Good job!\",\n    text: \"User deleted successfully!\",\n    icon: \"warning\",\n    button: \"ok!\"\n  }).then(function () {\n    window.location.href = \"/\";\n  });\n  return dispatch => {\n    dispatch({\n      type: 'DELETE_USER',\n      payload: id\n    });\n  };\n}; //   export  const deleteUser=(id)=>{\n//     return (dispatch)=>{\n//     dispatch({\n//         type:'DELETE_USER',\n//         payload:id\n//     })\n// }\n// }","map":{"version":3,"names":["axios","swal","fetchData","dispatch","getstate","response","get","console","log","data","type","payload","addUser","name","email","address","post","then","catch","error","updateUser","id","put","title","text","icon","button","window","location","href","user","deleteUser","delete"],"sources":["C:/Users/dell/react-mini-project/mini-crud-2/src/Action.js"],"sourcesContent":["import axios from \"axios\";\r\nimport swal from \"sweetalert\";\r\n\r\n\r\nexport const fetchData = () => {\r\n    return async(dispatch,getstate)=>{\r\n        const response=await axios.get(\"https://62de95669c47ff309e7729bf.mockapi.io/users\");\r\n        console.log(response.data)\r\n        dispatch({\r\n            type:\"FETCH_DATA\",\r\n            payload:response.data\r\n        })\r\n    }\r\n}\r\n\r\n\r\n\r\nexport const addUser=(name,email,address)=>{\r\n    return(dispatch)=>{\r\n        axios.post('https://62de95669c47ff309e7729bf.mockapi.io/users',{name,email,address})\r\n        .then(response=>{\r\n            console.log(response.data);\r\n            dispatch({\r\n                type:'ADD_USER',\r\n                payload:response.data\r\n            })\r\n            .catch(error=>{\r\n                console.log(error)\r\n            });\r\n        })\r\n    }\r\n}\r\n\r\n// export const updateUser=(data)=>{\r\n//     return(dispatch)=>{\r\n//         axios.put(`https://62de95669c47ff309e7729bf.mockapi.io/users/${id}`,{data})\r\n//         .then(response=>{\r\n//             console.log(response.data);\r\n//             dispatch({\r\n//                 type:'UPDATE_USER',\r\n//                 payload:response.user\r\n//             })\r\n//             .catch(error=>{\r\n//                 console.log(error)\r\n//             });\r\n//         })\r\n//     }\r\n// }\r\n\r\nexport const updateUser = async(data,id) => {\r\n    const response=await axios.put(`https://62de95669c47ff309e7729bf.mockapi.io/users/${id}`,data)\r\n    // window.location.href = \"http://localhost:3001\";\r\n    swal({\r\n            title: \"Good job!\",\r\n            text: \"User updated successfully!\",\r\n            icon: \"success\",\r\n            button: \"ok!\",\r\n          }).then(function() {\r\n            window.location.href=\"/\";\r\n        });\r\n    return (dispatch)=>{\r\n        \r\n           dispatch({\r\n               type:'UPDATE_USER',\r\n               payload:response.user\r\n           })\r\n  };\r\n}\r\n\r\nexport const deleteUser = async(id) => {\r\n    const response=await axios.delete(`https://62de95669c47ff309e7729bf.mockapi.io/users/${id}`)\r\n    // window.location.href = \"http://localhost:3001\";\r\n    swal({\r\n        title: \"Good job!\",\r\n        text: \"User deleted successfully!\",\r\n        icon: \"warning\",\r\n        button: \"ok!\",\r\n      }).then(function() {\r\n        window.location.href=\"/\";\r\n    });\r\n    return (dispatch)=>{\r\n        \r\n           dispatch({\r\n               type:'DELETE_USER',\r\n               payload:id\r\n           })\r\n  };\r\n}\r\n//   export  const deleteUser=(id)=>{\r\n//     return (dispatch)=>{\r\n        \r\n//     dispatch({\r\n//         type:'DELETE_USER',\r\n//         payload:id\r\n//     })\r\n// }\r\n// }\r\n\r\n\r\n\r\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,YAAjB;AAGA,OAAO,MAAMC,SAAS,GAAG,MAAM;EAC3B,OAAO,OAAMC,QAAN,EAAeC,QAAf,KAA0B;IAC7B,MAAMC,QAAQ,GAAC,MAAML,KAAK,CAACM,GAAN,CAAU,mDAAV,CAArB;IACAC,OAAO,CAACC,GAAR,CAAYH,QAAQ,CAACI,IAArB;IACAN,QAAQ,CAAC;MACLO,IAAI,EAAC,YADA;MAELC,OAAO,EAACN,QAAQ,CAACI;IAFZ,CAAD,CAAR;EAIH,CAPD;AAQH,CATM;AAaP,OAAO,MAAMG,OAAO,GAAC,CAACC,IAAD,EAAMC,KAAN,EAAYC,OAAZ,KAAsB;EACvC,OAAOZ,QAAD,IAAY;IACdH,KAAK,CAACgB,IAAN,CAAW,mDAAX,EAA+D;MAACH,IAAD;MAAMC,KAAN;MAAYC;IAAZ,CAA/D,EACCE,IADD,CACMZ,QAAQ,IAAE;MACZE,OAAO,CAACC,GAAR,CAAYH,QAAQ,CAACI,IAArB;MACAN,QAAQ,CAAC;QACLO,IAAI,EAAC,UADA;QAELC,OAAO,EAACN,QAAQ,CAACI;MAFZ,CAAD,CAAR,CAICS,KAJD,CAIOC,KAAK,IAAE;QACVZ,OAAO,CAACC,GAAR,CAAYW,KAAZ;MACH,CAND;IAOH,CAVD;EAWH,CAZD;AAaH,CAdM,C,CAgBP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,MAAMC,UAAU,GAAG,OAAMX,IAAN,EAAWY,EAAX,KAAkB;EACxC,MAAMhB,QAAQ,GAAC,MAAML,KAAK,CAACsB,GAAN,CAAW,qDAAoDD,EAAG,EAAlE,EAAoEZ,IAApE,CAArB,CADwC,CAExC;;EACAR,IAAI,CAAC;IACGsB,KAAK,EAAE,WADV;IAEGC,IAAI,EAAE,4BAFT;IAGGC,IAAI,EAAE,SAHT;IAIGC,MAAM,EAAE;EAJX,CAAD,CAAJ,CAKST,IALT,CAKc,YAAW;IACjBU,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAqB,GAArB;EACH,CAPL;EAQA,OAAQ1B,QAAD,IAAY;IAEZA,QAAQ,CAAC;MACLO,IAAI,EAAC,aADA;MAELC,OAAO,EAACN,QAAQ,CAACyB;IAFZ,CAAD,CAAR;EAIR,CANC;AAOH,CAlBM;AAoBP,OAAO,MAAMC,UAAU,GAAG,MAAMV,EAAN,IAAa;EACnC,MAAMhB,QAAQ,GAAC,MAAML,KAAK,CAACgC,MAAN,CAAc,qDAAoDX,EAAG,EAArE,CAArB,CADmC,CAEnC;;EACApB,IAAI,CAAC;IACDsB,KAAK,EAAE,WADN;IAEDC,IAAI,EAAE,4BAFL;IAGDC,IAAI,EAAE,SAHL;IAIDC,MAAM,EAAE;EAJP,CAAD,CAAJ,CAKKT,IALL,CAKU,YAAW;IACjBU,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAqB,GAArB;EACH,CAPD;EAQA,OAAQ1B,QAAD,IAAY;IAEZA,QAAQ,CAAC;MACLO,IAAI,EAAC,aADA;MAELC,OAAO,EAACU;IAFH,CAAD,CAAR;EAIR,CANC;AAOH,CAlBM,C,CAmBP;AACA;AAEA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module"}